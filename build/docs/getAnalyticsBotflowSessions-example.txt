const platformClient = require("purecloud-platform-client-v2");

const client = platformClient.ApiClient.instance;
client.setEnvironment(platformClient.PureCloudRegionHosts.us_east_1); // Genesys Cloud region

// Manually set auth token or use loginImplicitGrant(...) or loginClientCredentialsGrant(...) or loginPKCEGrant(...)
client.setAccessToken("your_access_token");

let apiInstance = new platformClient.AnalyticsApi();

let botFlowId = "botFlowId_example"; // String | ID of the bot flow.
let opts = { 
  "after": "after_example", // String | The cursor that points to the ID of the last item in the list of entities that has been returned.
  "pageSize": "50", // String | Max number of entities to return. Maximum of 250
  "interval": 2023-07-17T08:15:44.586Z/2023-07-26T09:22:33.111Z, // String | Date range filter based on the date the individual resources were completed. UTC is the default if no TZ is supplied, however alternate timezones can be used e.g: '2022-11-22T09:11:11.111+08:00/2022-11-30T07:17:44.586-07'. . Intervals are represented as an ISO-8601 string. For example: YYYY-MM-DDThh:mm:ss/YYYY-MM-DDThh:mm:ss
  "botResultCategories": "botResultCategories_example", // String | Optional case-insensitive comma separated list of Bot Result Categories to filter sessions by.
  "endLanguage": "endLanguage_example" // String | Optional case-insensitive language code to filter sessions by the language the sessions ended in.
};

// Get Bot Flow Sessions.
apiInstance.getAnalyticsBotflowSessions(botFlowId, opts)
  .then((data) => {
    console.log(`getAnalyticsBotflowSessions success! data: ${JSON.stringify(data, null, 2)}`);
  })
  .catch((err) => {
    console.log("There was a failure calling getAnalyticsBotflowSessions");
    console.error(err);
  });